<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.23.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Experiencing Terraform - Oracle Dev.O Tutorials</title>
<meta name="description" content="Experience the power of Terraform through a short project.">


  <meta name="author" content="Tim Clegg">
  
  <meta property="article:author" content="Tim Clegg">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Oracle Dev.O Tutorials">
<meta property="og:title" content="Experiencing Terraform">
<meta property="og:url" content="https://cool.devo.build/collections/tutorials/tf-101/2-experiencing-terraform">


  <meta property="og:description" content="Experience the power of Terraform through a short project.">



  <meta property="og:image" content="https://cool.devo.build/collections/tutorials/tf-101/assets/terraform-101.png">




  <meta name="twitter:site" content="@groundbreakers">
  <meta name="twitter:title" content="Experiencing Terraform">
  <meta name="twitter:description" content="Experience the power of Terraform through a short project.">
  <meta name="twitter:url" content="https://cool.devo.build/collections/tutorials/tf-101/2-experiencing-terraform">

  
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://cool.devo.build/collections/tutorials/tf-101/assets/terraform-101.png">
    
  

  



  <meta property="article:published_time" content="2021-10-08T08:15:00+00:00">






<link rel="canonical" href="https://cool.devo.build/collections/tutorials/tf-101/2-experiencing-terraform">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://cool.devo.build/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/main.xml" type="application/atom+xml" rel="alternate" title="Oracle Dev.O Tutorials Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



<link rel="icon" href="https://www.oracle.com/asset/web/favicons/favicon-32.png" sizes="32x32">

    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead oracle-header oracle-headerv1 oracle-headeradj oracle-headerdev">
  <div class="masthead__inner-wrap oracle-headerw1">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <div class="oracle-headers1 site-logo">
          <a class="oracle-logo" href="https://developer.oracle.com/"><span>Oracle</span></a>
        </div>
        <div class="u18-title site-title">
          <a href="/">
            Oracle Dev.O Tutorials
            
          </a>
        </div>

        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/use-cases/">Use Cases</a>
            </li><li class="masthead__menu-item">
              <a href="/collections/">Collections</a>
            </li><li class="masthead__menu-item">
              <a href="/topics/">Topics</a>
            </li><li class="masthead__menu-item">
            <a href="https://www.oracle.com/cloud/free/?source=:ow:o:s:nav::DevoGetStarted&intcmp=:ow:o:s:nav::DevoGetStarted">Get Started For Free</a>
          </li>
        </ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a href="https://developer.oracle.com/" itemprop="item"><span itemprop="name">Developer Resource Center</span></a>
      <meta itemprop="position" content="" />
    </li>
    <span class="sep">/</span>
    
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/" itemprop="item"><span itemprop="name">Dev.O Tutorials</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/collections" itemprop="item"><span itemprop="name">Collections</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/collections/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/collections/tutorials/tf-101" itemprop="item"><span itemprop="name">Tf 101</span></a>
          <meta itemprop="position" content="4" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Experiencing Terraform</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">

    <div class="sidebar sticky">
    <p><strong>Tags:</strong> <span class="tags">

            
            <a class="animated-link tag" href="/topics/open-source">open-source</a>
            <a class="animated-link tag" href="/topics/terraform">terraform</a>
            <a class="animated-link tag" href="/topics/iac">iac</a>
            <a class="animated-link tag" href="/topics/devops">devops</a>
            <a class="animated-link tag" href="/topics/beginner">beginner</a>
            </span>
    </p>
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Tim Clegg</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Code. Share. Secure. Innovate. Automate. Educate.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/https://www.linkedin.com/in/timothy-clegg/" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span>
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/timclegg" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  
  
  <p><strong>From this author:</strong>
    <ul>
      
        <li><a href="/collections/tutorials/tf-101/1-why-iac">Why Infrastructure as Code?</a></li>
      
        <li><a href="/collections/tutorials/tf-101/3-understanding-terraform-basics">Understanding the basics of Terraform</a></li>
      
        <li><a href="/collections/tutorials/tf-101/4-variables">Terraform variables</a></li>
      
        <li><a href="/collections/tutorials/tf-101/">Terraform 101</a></li>
      
    </ul>
  
  </div>


  <article class="page has-sidebar has-toc has-slides" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Experiencing Terraform">
    
    <meta itemprop="datePublished" content="2021-10-08T08:15:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Experiencing Terraform
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="slides-nav"><ul><li class="active" data-target-slide="0"><a href="javascript:cool.slides.goToSlide(0)">Intro</a></li>
<li data-target-slide="1"><a href="javascript:cool.slides.goToSlide(1)">Prerequisites</a></li>
<li data-target-slide="2"><a href="javascript:cool.slides.goToSlide(2)">Setting up the project</a></li>
<li data-target-slide="3"><a href="javascript:cool.slides.goToSlide(3)">Setup the OCI provider</a></li>
<li data-target-slide="4"><a href="javascript:cool.slides.goToSlide(4)">Set up a subnet</a></li>
<li data-target-slide="5"><a href="javascript:cool.slides.goToSlide(5)">Set up an output</a></li>
<li data-target-slide="6"><a href="javascript:cool.slides.goToSlide(6)">Action!</a></li>
<li data-target-slide="7"><a href="javascript:cool.slides.goToSlide(7)">Cleaning Up</a></li>
<li data-target-slide="8"><a href="javascript:cool.slides.goToSlide(8)">Summary</a></li></ul></nav>
          </aside>
        

        <div class="slides" id="slideshow">

  <div class="slide active" id="slide-0">

    <h2 class="slide__title"><span class="slide__num">1</span> Introduction</h2>

    <figure class="alignright">
              <picture>
                  <source srcset="assets/terraform-101.png 1x" />
                  <img loading="lazy" width="400" height="400" src="assets/terraform-101.png" data-original="assets/terraform-101.png" data-at2x="assets/terraform-101@2x.png" title="Terraform 101" alt="Terraform 101 Tutorial Series" />
              </picture>
              <figcaption>Terraform 101</figcaption>
            </figure>

    <p>This short project will let you experience the power of Terraform.</p>

    <ul>
      <li>Create some Terraform code files</li>
      <li>Learn how to examine what Terraform proposes be done</li>
      <li>Let Terraform create a VCN and Subnet</li>
      <li>Organize your Terraform code</li>
      <li>Get a taste of OCI Cloud Shell</li>
    </ul>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(1)" class="slides__btn--begin">Begin &raquo;</a></div>

  </div>

  <div class="slide" id="slide-1">

    <h2 class="slide__title"><span class="slide__num">2</span> Prerequisites</h2>

    <p>You should have an Oracle Cloud Infrastructure (OCI) account setup.  <a href="https://www.oracle.com/cloud/free/?source=:ow:o:s:nav::DevoGetStarted&amp;intcmp=:ow:o:s:nav::DevoGetStarted">Click here</a> to create a new cloud account.</p>

    <p>We’ll be using the <a href="https://docs.oracle.com/en-us/iaas/Content/API/Concepts/cloudshellintro.htm">OCI Cloud Shell</a> in this tutorial, as it provides a great platform for quickly working with Terraform (as well as many other OCI interfaces and tools), having many of these tools pre-installed and ready-to-go.</p>

    <p><a href="https://docs.oracle.com/en-us/iaas/Content/API/Concepts/cloudshellgettingstarted.htm">Click here</a> for directions on how to open up the OCI Cloud Shell.  You’ll need to have this open during this particular portion of the Terraform 101 tutorial series.</p>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(0)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(2)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-2">

    <h2 class="slide__title"><span class="slide__num">3</span> Setting up the project</h2>

    <p>Terraform is incredibly easy to use.  Here’s what we’re going to do in this lesson:</p>

    <ul>
      <li>Create a VCN</li>
      <li>Create a Subnet in the VCN</li>
    </ul>

    <p>Follow the step-by-step directions, to see how easy/fast it is, then in subsequent lessons we’ll go into greater detail around how to use Terraform.</p>

    <blockquote class="notice">
      <p>NOTE: All commands will be used within OCI Cloud Shell.  If you haven’t opened it up yet, now’s the time to <a href="https://docs.oracle.com/en-us/iaas/Content/API/Concepts/cloudshellgettingstarted.htm">open your own Cloud Shell session</a>!</p>
    </blockquote>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(1)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(3)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-3">

    <h2 class="slide__title"><span class="slide__num">4</span> Setup the OCI provider</h2>

    <p>Create a new directory for this project:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">mkdir experiencing-tf
cd experiencing-tf
</span></code></pre></div>    </div>

    <p>The <code class="language-plaintext highlighter-rouge">experiencing-tf</code> directory will have our Terraform files, as well as our Terraform state.  This will be our project directory.</p>

    <p>Using your favorite editor (<code class="language-plaintext highlighter-rouge">nano</code>, <code class="language-plaintext highlighter-rouge">vi</code>, etc.) add the following to <code class="language-plaintext highlighter-rouge">provider.tf</code> (<code class="language-plaintext highlighter-rouge">nano provider.tf</code>):</p>

    <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">terraform</span> <span class="p">{</span>
  <span class="nx">required_version</span> <span class="p">=</span> <span class="s2">"&gt;= 1.0.0"</span>
<span class="p">}</span>

<span class="k">provider</span> <span class="s2">"oci"</span> <span class="p">{</span>
  <span class="nx">region</span>       <span class="p">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">region</span>
  <span class="nx">tenancy_ocid</span> <span class="p">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">tenancy_ocid</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Let’s start by creating a VCN.  To do so, edit <code class="language-plaintext highlighter-rouge">vcn.tf</code> (<code class="language-plaintext highlighter-rouge">nano vcn.tf</code>, note that this file doesn’t exist yet - so it’ll be a new file according to your text editor) and place the following contents in it:</p>

    <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">resource</span> <span class="nx">oci_core_vcn</span> <span class="s2">"tf_101"</span> <span class="p">{</span>
  <span class="nx">cidr_block</span>     <span class="p">=</span> <span class="s2">"192.168.1.0/24"</span>
  <span class="nx">compartment_id</span> <span class="p">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">tenancy_ocid</span>
  <span class="nx">display_name</span>   <span class="p">=</span> <span class="s2">"tf-101"</span>
  <span class="nx">dns_label</span>      <span class="p">=</span> <span class="s2">"tf101"</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>The above tells Terraform that we want a VCN with a name of <code class="language-plaintext highlighter-rouge">tf-101</code>, using a CIDR block of <code class="language-plaintext highlighter-rouge">192.168.1.0/24</code>, deployed into the root (tenancy) compartment.</p>

    <blockquote class="notice">
      <p>NOTE: To keep things simple, this example uses the tenancy (root) compartment, which is often times locked down in many tenancies.  If you’re using a tenancy with limited permissions (one in which you cannot deploy to the root compartment), you’ll need to put in your compartment OCID in place of the <code class="language-plaintext highlighter-rouge">var.tenancy_ocid</code> above.  Something like <code class="language-plaintext highlighter-rouge">compartment_id = "PUT_YOUR_COMPARTMENT_OCID_HERE"</code> should do the trick for now!</p>
    </blockquote>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(2)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(4)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-4">

    <h2 class="slide__title"><span class="slide__num">5</span> Set up a subnet</h2>

    <p>Next we’ll create a subnet within our VCN.  To do this, go ahead and add the following to a new file called <code class="language-plaintext highlighter-rouge">subnets.tf</code> (<code class="language-plaintext highlighter-rouge">nano subnets.tf</code>):</p>

    <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">resource</span> <span class="nx">oci_core_subnet</span> <span class="s2">"vlan1"</span> <span class="p">{</span>
  <span class="nx">cidr_block</span>      <span class="p">=</span> <span class="s2">"192.168.1.0/24"</span>
  <span class="nx">compartment_id</span>  <span class="p">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">tenancy_ocid</span>
  <span class="nx">display_name</span>    <span class="p">=</span> <span class="s2">"vlan1"</span>
  <span class="nx">dns_label</span>       <span class="p">=</span> <span class="s2">"vlan1"</span>
  <span class="nx">prohibit_public_ip_on_vnic</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">vcn_id</span> <span class="p">=</span> <span class="nx">oci_core_vcn</span><span class="p">.</span><span class="nx">tf_101</span><span class="p">.</span><span class="nx">id</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>This will tell Terraform to manage a Subnet that lives within the VCN we’ve previously defined, using the entire CIDR space.  We’ve prohibited the use of public IPs in this Subnet and have decided to give it the amazingly original name of <code class="language-plaintext highlighter-rouge">vlan1</code>.</p>

    <p>Up to this point, we’ve referenced a couple of variables in our resource definitions above: <code class="language-plaintext highlighter-rouge">var.region</code> and <code class="language-plaintext highlighter-rouge">var.tenancy_ocid</code>.  We need to go ahead and define these in Terraform code.  To do so, edit <code class="language-plaintext highlighter-rouge">variables.tf</code> (<code class="language-plaintext highlighter-rouge">nano variables.tf</code>) and place the following in it:</p>

    <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">variable</span> <span class="s2">"tenancy_ocid"</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="p">=</span> <span class="nx">string</span>
<span class="p">}</span>
<span class="k">variable</span> <span class="s2">"region"</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="p">=</span> <span class="nx">string</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(3)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(5)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-5">

    <h2 class="slide__title"><span class="slide__num">6</span> Set up an output</h2>

    <p>Now that our inputs are defined, let’s go ahead and setup an output, which will be the status of the VCN.  To do this, modify <code class="language-plaintext highlighter-rouge">outputs.tf</code> (<code class="language-plaintext highlighter-rouge">nano outputs.tf</code>) and place the following in it:</p>

    <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">output</span> <span class="s2">"vcn_state"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"The state of the VCN."</span>
  <span class="nx">value</span>       <span class="p">=</span> <span class="nx">oci_core_vcn</span><span class="p">.</span><span class="nx">tf_101</span><span class="p">.</span><span class="nx">state</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Save the file and exit your text editor.</p>

    <p>The OCI Cloud Shell session is prepopulated with lots of good values that make life super simple.  We need to put this in a format that Terraform cac easily use.  The following commands will setup a few environment variables that Terraform will be using:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">declare -x TF_VAR_tenancy_ocid=`echo $</span>OCI_TENANCY<span class="sb">`</span>
<span class="gp">declare -x TF_VAR_region=`echo $</span>OCI_REGION<span class="sb">`</span>
</code></pre></div>    </div>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(4)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(6)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-6">

    <h2 class="slide__title"><span class="slide__num">7</span> Action!</h2>

    <p>Now it’s time to see this all work!  Initialize Terraform by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">terraform init
</span></code></pre></div>    </div>

    <p>It looks something like:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform init
<span class="go">
Initializing the backend...

Initializing provider plugins...
- Finding latest version of hashicorp/oci...
- Installing hashicorp/oci v4.45.0...
- Installed hashicorp/oci v4.45.0 (unauthenticated)

Terraform has created a lock file .terraform.lock.hcl to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run "terraform init" in the future.

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.
</span><span class="gp">$</span><span class="w"> 
</span></code></pre></div>    </div>

    <p>At this point Terraform is ready for us to give it directions on what OCI resources we want it to manage.  Let’s look at the plan that Terraform proposes:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform plan
</code></pre></div>    </div>

    <p>The output will be something similar to the following:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform plan
<span class="go">
Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

</span><span class="gp">  #</span><span class="w"> </span>oci_core_subnet.vlan1 will be created
<span class="go">  + resource "oci_core_subnet" "vlan1" {
      + availability_domain        = (known after apply)
      + cidr_block                 = "192.168.1.0/24"
</span><span class="gp">      + compartment_id             = "ocid1.tenancy.oc1..&lt;sanitized&gt;</span><span class="s2">"
</span><span class="go">      + defined_tags               = (known after apply)
      + dhcp_options_id            = (known after apply)
      + display_name               = "vlan1"
      + dns_label                  = "vlan1"
      + freeform_tags              = (known after apply)
      + id                         = (known after apply)
      + ipv6cidr_block             = (known after apply)
      + ipv6virtual_router_ip      = (known after apply)
      + prohibit_internet_ingress  = (known after apply)
      + prohibit_public_ip_on_vnic = true
      + route_table_id             = (known after apply)
      + security_list_ids          = (known after apply)
      + state                      = (known after apply)
      + subnet_domain_name         = (known after apply)
      + time_created               = (known after apply)
      + vcn_id                     = (known after apply)
      + virtual_router_ip          = (known after apply)
      + virtual_router_mac         = (known after apply)
    }

</span><span class="gp">  #</span><span class="w"> </span>oci_core_vcn.tf_101 will be created
<span class="go">  + resource "oci_core_vcn" "tf_101" {
      + cidr_block               = "192.168.1.0/24"
      + cidr_blocks              = (known after apply)
</span><span class="gp">      + compartment_id           = "ocid1.tenancy.oc1..&lt;sanitized&gt;</span><span class="s2">"
</span><span class="go">      + default_dhcp_options_id  = (known after apply)
      + default_route_table_id   = (known after apply)
      + default_security_list_id = (known after apply)
      + defined_tags             = (known after apply)
      + display_name             = "tf-101"
      + dns_label                = "tf101"
      + freeform_tags            = (known after apply)
      + id                       = (known after apply)
      + ipv6cidr_blocks          = (known after apply)
      + is_ipv6enabled           = (known after apply)
      + state                    = (known after apply)
      + time_created             = (known after apply)
      + vcn_domain_name          = (known after apply)
    }

Plan: 2 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  + vcn_state = (known after apply)

───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

Note: You didn't use the -out option to save this plan, so Terraform can't guarantee to take exactly these actions if you run "terraform apply"
now.
</span><span class="gp">$</span><span class="w"> 
</span></code></pre></div>    </div>

    <p>What we’re able to see here is that Terraform is proposing to create two new resources: a VCN and a Subnet.  Both of these are expected and things appear to be in order, so we’ll go ahead and apply it (tell Terraform to make the changes), by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform apply
</code></pre></div>    </div>

    <p>We’ll see something like what we saw for plan, but have a prompt asking if we’d like to continue:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">&lt;snip&gt;</span><span class="w">
</span><span class="go">Changes to Outputs:
  + vcn_state = (known after apply)

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: 
</span></code></pre></div>    </div>

    <p>Once we accept the proposed changes, we’ll see something like:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">&lt;snip&gt;</span><span class="w">
</span><span class="go">Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

oci_core_vcn.tf_101: Creating...
</span><span class="gp">oci_core_vcn.tf_101: Creation complete after 2s [id=ocid1.vcn.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="go">oci_core_subnet.vlan1: Creating...
</span><span class="gp">oci_core_subnet.vlan1: Creation complete after 2s [id=ocid1.subnet.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="go">
Apply complete! Resources: 2 added, 0 changed, 0 destroyed.

Outputs:

vcn_state = "AVAILABLE"
</span><span class="gp">$</span><span class="w"> 
</span></code></pre></div>    </div>

    <p>Wow, that was easy!  One command to set up multiple resources… terrific!</p>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(5)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(7)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-7">

    <h2 class="slide__title"><span class="slide__num">8</span> Cleaning Up</h2>

    <p>Since we’re at the end of this short session, we want to clean up after ourselves.  Let’s go ahead and remove the VCN and Subnet.  This could be multiple clicks on the OCI Console, however since we’re using Terraform, one command is all we need to run:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform destroy
</code></pre></div>    </div>

    <p>You’ll see something like the following:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>terraform destroy
<span class="gp">oci_core_vcn.tf_101: Refreshing state... [id=ocid1.vcn.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="gp">oci_core_subnet.vlan1: Refreshing state... [id=ocid1.subnet.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="go">
Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  - destroy

Terraform will perform the following actions:

</span><span class="gp">  #</span><span class="w"> </span>oci_core_subnet.vlan1 will be destroyed
<span class="go">  - resource "oci_core_subnet" "vlan1" {
</span><span class="gp">      - cidr_block                 = "192.168.1.0/24" -&gt;</span><span class="w"> </span>null
<span class="gp">      - compartment_id             = "ocid1.compartment.oc1..&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="go">      - defined_tags               = {
</span><span class="gp">          - "Oracle-Tags.CreatedBy" = "&lt;sanitized&gt;</span><span class="s2">"
</span><span class="go">          - "Oracle-Tags.CreatedOn" = "2021-09-30T19:44:47.597Z"
</span><span class="gp">        } -&gt;</span><span class="w"> </span>null
<span class="gp">      - dhcp_options_id            = "ocid1.dhcpoptions.oc1.phx.&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="gp">      - display_name               = "vlan1" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - dns_label                  = "vlan1" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - freeform_tags              = {} -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - id                         = "ocid1.subnet.oc1.phx.&lt;sanitized&gt;</span><span class="s2">"</span> -&gt; null
<span class="gp">      - prohibit_internet_ingress  = true -&gt;</span><span class="w"> </span>null
<span class="gp">      - prohibit_public_ip_on_vnic = true -&gt;</span><span class="w"> </span>null
<span class="gp">      - route_table_id             = "ocid1.routetable.oc1.phx.&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="go">      - security_list_ids          = [
</span><span class="gp">          - "ocid1.securitylist.oc1.phx.&lt;sanitized&gt;</span><span class="s2">",
</span><span class="gp">        ] -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - state                      = "AVAILABLE" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - subnet_domain_name         = "vlan1.tf101.oraclevcn.com" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - time_created               = "2021-09-30 19:44:47.659 +0000 UTC" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - vcn_id                     = "ocid1.vcn.oc1.phx.&lt;sanitized&gt;</span><span class="s2">"</span> -&gt; null
<span class="gp">      - virtual_router_ip          = "192.168.1.1" -&gt;</span><span class="w"> </span>null
<span class="gp">      - virtual_router_mac         = "00:00:17:28:74:9C" -&gt;</span><span class="w"> </span>null
<span class="go">    }

</span><span class="gp">  #</span><span class="w"> </span>oci_core_vcn.tf_101 will be destroyed
<span class="go">  - resource "oci_core_vcn" "tf_101" {
</span><span class="gp">      - cidr_block               = "192.168.1.0/24" -&gt;</span><span class="w"> </span>null
<span class="go">      - cidr_blocks              = [
          - "192.168.1.0/24",
</span><span class="gp">        ] -&gt;</span><span class="w"> </span>null
<span class="gp">      - compartment_id           = "ocid1.compartment.oc1..&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="gp">      - default_dhcp_options_id  = "ocid1.dhcpoptions.oc1.phx.&lt;saanitized&gt;</span><span class="s2">"</span> -&gt; null
<span class="gp">      - default_route_table_id   = "ocid1.routetable.oc1.phx.&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="gp">      - default_security_list_id = "ocid1.securitylist.oc1.phx.&lt;sanitized&gt;</span><span class="s2">"</span> -&gt; null
<span class="go">      - defined_tags             = {
</span><span class="gp">          - "Oracle-Tags.CreatedBy" = "&lt;sanitized&gt;</span><span class="s2">"
</span><span class="go">          - "Oracle-Tags.CreatedOn" = "2021-09-30T19:44:46.481Z"
</span><span class="gp">        } -&gt;</span><span class="w"> </span>null
<span class="gp">      - display_name             = "tf-101" -&gt;</span><span class="w"> </span>null
<span class="gp">      - dns_label                = "tf101" -&gt;</span><span class="w"> </span>null
<span class="gp">      - freeform_tags            = {} -&gt;</span><span class="w"> </span>null
<span class="gp">      - id                       = "ocid1.vcn.oc1.phx.&lt;sanitized&gt;</span><span class="s2">" -&gt; null
</span><span class="gp">      - ipv6cidr_blocks          = [] -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - is_ipv6enabled           = false -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - state                    = "AVAILABLE" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - time_created             = "2021-09-30 19:44:46.736 +0000 UTC" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="gp">      - vcn_domain_name          = "tf101.oraclevcn.com" -&gt;</span><span class="w"> </span><span class="s2">null
</span><span class="go">    }

Plan: 0 to add, 0 to change, 2 to destroy.

Changes to Outputs:
</span><span class="gp">  - vcn_state = "AVAILABLE" -&gt;</span><span class="w"> </span>null
<span class="go">
Do you really want to destroy all resources?
  Terraform will destroy all your managed infrastructure, as shown above.
  There is no undo. Only 'yes' will be accepted to confirm.

  Enter a value: 
</span></code></pre></div>    </div>

    <p>After entering <code class="language-plaintext highlighter-rouge">yes</code> in the prompt, Terraform will destroy the resources for us:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">&lt;snip&gt;</span><span class="w">
</span><span class="go">Do you really want to destroy all resources?
  Terraform will destroy all your managed infrastructure, as shown above.
  There is no undo. Only 'yes' will be accepted to confirm.

  Enter a value: yes

</span><span class="gp">oci_core_subnet.vlan1: Destroying... [id=ocid1.subnet.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="go">oci_core_subnet.vlan1: Destruction complete after 1s
</span><span class="gp">oci_core_vcn.tf_101: Destroying... [id=ocid1.vcn.oc1.phx.&lt;sanitized&gt;</span><span class="o">]</span>
<span class="go">oci_core_vcn.tf_101: Destruction complete after 1s

Destroy complete! Resources: 2 destroyed.
</span><span class="gp">$</span><span class="w">
</span></code></pre></div>    </div>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(6)">&laquo; Back</a> <a href="javascript:cool.slides.goToSlide(8)">Continue &raquo;</a></div>

  </div>

  <div class="slide" id="slide-8">

    <h2 class="slide__title"><span class="slide__num">9</span> Summary</h2>

    <p>If this was your first time using Terraform, that was a <em>LOT</em> to take in!  It was worth it, as we got a lot done:</p>

    <ul>
      <li>Created five (5) Terraform code files that defined our inputs, outputs and resources we want Terraform to manage</li>
      <li>Learned how to examine what Terraform proposes be done (<code class="language-plaintext highlighter-rouge">terraform plan</code>)</li>
      <li>Let Terraform create a VCN and Subnet for us (very quickly)</li>
      <li>Fun facts: It took Terraform under 10 seconds to provision a VCN and Subnet (try it yourself by running <code class="language-plaintext highlighter-rouge">time terraform apply -auto-approve</code>) and under 7 seconds to destroy (try it yourself by running <code class="language-plaintext highlighter-rouge">time terraform destroy -auto-approve</code>) those same resources.  Try to beat that doing it by hand in the OCI Console!</li>
      <li>Organized our Terraform code into logical files (so it’s easy to navigate the code)</li>
      <li>Got a taste for how handy and easy it is to use the OCI Cloud Shell</li>
    </ul>

    <p>Hopefully this short tutorial gave you a glimpse into the basic flow around using Terraform and how powerful it can be.  This was a super simple example, but was a solid first start at using Terraform.  The <a href="3-understanding-terraform-basics.md">next lesson</a> digs into some of the core concepts and components in a Terraform project.</p>

    <div class="slide__nav"><a href="javascript:cool.slides.goToSlide(7)">&laquo; Back</a></div>

  </div>

</div>



        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-10-08T08:15:00+00:00">October 8, 2021</time></p>


      </footer>

      

      

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/main.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Oracle</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="/assets/js/custom.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  
    <script src="/assets/js/plugins/readmore.min.js"></script>
  


<!-- Start SiteCatalyst code -->
<script>
  var s_pageName = "devrel:en-us:";
  if (typeof(document.title) != "undefined") {
    var s_pageName = s_pageName + document.title.trim()
  };
</script>
<script src="https://www.oracleimg.com/us/assets/metrics/ora_otn.js"></script>
<!-- End SiteCatalyst code -->


  </body>
</html>
